<!DOCTYPE html>
<html lang="en">
<head>
  <title>Web apps Lab7</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

    <style>
        body
        {
            background-color: #f7f7f7;
            font-family: Arial, sans-serif;
            text-align: center;
        }

         h2{
            color: #333;
            text-align: center;
            margin-top: 50px;
         }

        #locations,
        #penalty,
        #help,
        #click {
            font-size: 14px;
            font-weight: bold;
            margin: 10px;
            padding: 12px;
            border: 2px solid #333;
            border-radius: 10px;
            display: inline-block;
            background-color: rgb(226, 239, 243);
            color: rgb(3, 27, 29);


        }
        .Pirate{
                color: crimson;
            }
         
    </style>

</head>
<body>
    <h2>Find the treasure by Santhosh Reddy Gurram</h2>
    <p class="Pirate">Click on the locations to search for treasure, beware the traps</p>
    <p id="locations">Number of locations checked is zero</p>
    <p id="penalty">Penalty is zero</p>
    <p id="click" onclick="help()">Click for help</p>
    <p id="help">Help report</p>

    <div class="container">
      <div class="image-row d-flex justify-content-center">
          <div><img id="id0" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(0)"></div>
          <div><img id="id1" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(1)"></div>
          <div><img id="id2" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(2)"></div>
          <div><img id="id3" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(3)"></div>
          <div><img id="id4" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(4)"></div>
        </div>
      </div>
      
      <div class="container">
        <div class="image-row d-flex justify-content-center">
          <div><img id="id5" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(5)"></div>
          <div><img id="id6" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(6)"></div>
          <div><img id="id7" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(7)"></div>
          <div><img id="id8" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(8)"></div>
          <div><img id="id9" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(9)"></div>
        </div>
      </div>

      <div class="container">
        <div class="image-row d-flex justify-content-center">
          <div><img id="id10" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(10)"></div>
          <div><img id="id11" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(11)"></div>
          <div><img id="id12" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(12)"></div>
          <div><img id="id13" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(13)"></div>
          <div><img id="id14" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(14)"></div>
        </div>
      </div>

      <div class="container">
        <div class="image-row d-flex justify-content-center">
          <div><img id="id15" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(15)"></div>
          <div><img id="id16" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(16)"></div>
          <div><img id="id17" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(17)"></div>
          <div><img id="id18" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(18)"></div>
          <div><img id="id19" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(19)"></div>
        </div>
      </div>
 
      <div class="container">
        <div class="image-row d-flex justify-content-center">
          <div><img id="id20" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(20)"></div>
          <div><img id="id21" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(21)"></div>
          <div><img id="id22" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(22)"></div>
          <div><img id="id23" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(23)"></div>
          <div><img id="id24" src="LocationImage.jpg" alt="Hidden treasure" height="125" width="125" onclick="check(24)"></div>
        </div>
        </div>
        
        <script>
          var ids = ["id0","id1","id2","id3","id4",
                     "id5","id6","id7","id8","id9",
                     "id10","id11","id12","id13","id14",
                     "id15","id16","id17","id18","id19",
                     "id20","id21","id22","id23","id24"];
          var checkCount = 0;
          var penalty = 0;
          var lastCheck = 0;
          var treasureLocation = 5;
          var trapLocation = 18;
          var gameOver = false;
  
          function check(position){
              if(gameOver){
                  return;
              }
              var id = ids[position];
              var imageElement = document.getElementById(id);
  
              if(position == treasureLocation){
                  imageElement.src = "FirstImage.jpg"; 
                  gameOver = true;
                  penalty -= 3;
              }
              else if(position == trapLocation){
                  imageElement.src = "ThirdImage.jpg";
                  gameOver = true;
                  penalty += 4;
              }
              else{
                  imageElement.src = "FourthImage.jpg";
              }
              checkCount++;
              penalty++;
              penalty = penalty < 0 ? 0 : penalty;
              document.getElementById("locations").innerHTML =  "Number of locations checked is : " + checkCount;
              document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
              lastCheck = position;
          }
  
          function help(){
              var helpText = "";
              var treasureCol = parseInt(treasureLocation % 5);
              var treasureRow = parseInt(treasureLocation / 5);
              var lastCheckCol = parseInt(lastCheck % 5);
              var lastCheckRow = parseInt(lastCheck / 5);
  
              var colCondition = treasureCol == lastCheckCol;
              var rowCondition = treasureRow == lastCheckRow;
  
              var colDiff = Math.abs(lastCheckCol - treasureCol);
              var rowDiff = Math.abs(lastCheckRow - treasureRow);
  
              if(colCondition || rowCondition) {
                  if(rowDiff == 1 || colDiff == 1) {
                      helpText = "Can Smell It";
                  }
                  else if(rowDiff == 2 || colDiff == 2){
                      helpText = "Close Matie";
                  }
                  else {
                      helpText = "Step Faster"
                  }
              }
              else if(rowDiff == 1 && colDiff == 1){ 
                  helpText = "Close Matie";
              }
              else{
                  helpText = "Step Faster";
              }
              penalty += 2;
              document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
              document.getElementById("help").innerHTML = helpText;
          }

        function newGame(){
        checkCount = 0;
        penalty = 0;
        lastCheck = 0;
        gameOver = false;
        
        treasureLocation = Math.floor(Math.random() * 25);
        do {
            trapLocation = Math.floor(Math.random() * 25);
        } while (trapLocation === treasureLocation);
      
        document.getElementById("locations").innerHTML = "Number of locations checked is : " + checkCount;
        document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
        document.getElementById("help").innerHTML = "Help report";
      
        for (var i = 0; i < 25; i++) {
            document.getElementById(ids[i]).src = "SecondImage.jpg";
        }
    }

</script>

</body>
</html>
